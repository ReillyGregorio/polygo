<!DOCTYPE html>
<html>
<head>
    <title>My Application</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=egde,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/res/bower_components/webcomponentsjs/webcomponents-lite.min.js" type="text/javascript" charset="utf-8"></script>
    <link href="/res/vul/elements.html" rel="import" />

    <style type="text/css">
    body {
    	margin: 0px;
    	padding: 0px;
		display: grid;
		grid-template-rows: 50px 1fr;
    	grid-template-columns: 172px 500px;
		grid-template-areas:
      		"classes title  title"
			"classes chat calendar";
		padding-left: 5px;
		height:100vh;
		
	}
	chat-element {
		grid-area: chat;
		background: #fff;
		display: block;
		color: #3F51B5;
		display:grid;
    	grid-template-rows: .90fr  99px;
	}
	title-element {
		grid-area: title;
		background: #fff;

		color: #3F51B5;
	}
	classes-element{
		grid-area: classes;
		color: #3F51B5;
		padding-top: 20px;
	}
	calendar-element{
		overflow-y: auto;
		grid-area: calendar;
		background: #fff;
		color: #3F51B5;
		height: 94vh;
	}

    </style>
</head>
<body>
  <calendar-element id="calendar"></calendar-element>
  <chat-element id="chat"></chat-element>
  <title-element></title-element>
  <classes-element id="classes"></classes-element>
  <script type="text/javascript">
    fetch("/classes").then(function(response){
      if(response.ok){
        return response.json();
      }
      throw new Error("Network error");
    }).then(function(json){
      document.getElementById("classes").periods = json;
    })

    fetch("/chat").then(function(response){
      if(response.ok){
        return response.json();
      }
      throw new Error("Network error");
    }).then(function(json){
      document.getElementById("chat").messages = json;
    })
    
    fetch("/calendar").then(function(response){
      if(response.ok){
        return response.json();
      }
      throw new Error("Network error");
    }).then(function(json){
      document.getElementById("calendar").events = json;
    })


  </script>
</body>
</html>
